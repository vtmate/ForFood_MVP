<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>STAR-ForFood-MVP</title>
    <link rel="stylesheet" href="../styles/style.css">
    <link rel="stylesheet" href="../styles/star.css">
    <link rel="icon" type="image/x-icon" href="../assets/kava-kavezo.png">
</head>
<body>
    <div class="center">
        <div class="content">
            <header class="gradient">
                <div class="progress-holder">
                    <div class="stars">
                        <img src="../assets/progress-star.svg" alt="">
                        <img src="../assets/progress-star.svg" alt="">
                        <img src="../assets/progress-star.svg" alt="">
                        <img src="../assets/progress-star.svg" alt="">
                        <img src="../assets/progress-star.svg" alt="">
                        <img src="../assets/progress-star.svg" alt="">
                    </div>
                    <div class="progress-bar">
                        <div class="progress"></div>
                    </div>
                </div>
                <img class="profile-pic" src="../assets/profile.svg" alt="">
            </header>
            
            <div class="scrollable">
                <main>
                    <div class="popup inv bg succ">
                        <div class="cover"></div>
                        <p>Sikeresen megvásárolva</p>
                        <a href="star.html">
                            <img class="close" src="../assets/close.svg" alt="">
                        </a>
                    </div>
                    <div class="popup inv bg unsucc">
                        <div class="cover"></div>
                        <p>Sajnos nincs elég csillagod</p>
                        <a href="star.html">
                            <img class="close" src="../assets/close.svg" alt="">
                        </a>
                    </div>
                    <div class="free-holder bg">
                        <h2>Hozd le a csillagokat!</h2>
                        <p class="explanation">Váltsd be csillagjaidat ingyenes termékekre!</p>
                        <div class="inline">
                            <p>Levásárolható: </p>
                            <img class="inline-star" src="../assets/progress-star.svg" alt="">
                            <p class="pay-points"></p>
                        </div>
                        <div class="free-items">
                            <button onclick="getFreeItem(80)" class="free-button bg">
                                <img class="free-good" src="../assets/biscuit.png" alt="">
                                <div>
                                    <h2>biscuit</h2>
                                    <div class="right">
                                        <img class="free-star" src="../assets/progress-star.svg" alt="">
                                        <p>80</p>
                                    </div>
                                </div>
                                <div class="reedem gradient">csillagok beváltása</div>
                            </button>
                            <button onclick="getFreeItem(120)" class="free-button bg">
                                <img class="free-good" src="../assets/pudding.png" alt="">
                                <div>
                                    <h2>pudding</h2>
                                    <div class="right">
                                        <img class="free-star" src="../assets/progress-star.svg" alt="">
                                        <p>120</p>
                                    </div>
                                </div>
                                <div class="reedem gradient correct">csillagok beváltása</div>
                            </button>
                        </div>
                    </div>

                    <div class="free-holder bg">
                        <h2>Lépj szintet!</h2>
                        <p class="explanation">Érj el minél magasabb rangot az eddig elért csillagjaid alapján és élvezd az ajándékokat!</p>
                        <div class="inline">
                            <p>Összes csillagod: </p>
                            <img class="inline-star" src="../assets/progress-star.svg" alt="">
                            <p class="all-points"></p>
                        </div>
                        <div class="tiers">
                            <div class="tier bg">
                                <div>
                                    <img class="tier-star" src="../assets/progress-star.svg" alt="">
                                    <h3>Kulináris Kalandor - 100 csillag</h3>
                                </div>
                                <div>
                                    <img class="gift" src="../assets/gift.svg" alt="">
                                    <p>ingyen +100 csillag</p>
                                </div>
                                <div>
                                    <img class="gift" src="../assets/gift.svg" alt="">
                                    <p>Mostantól 1.5x annyi csillag</p>
                                </div>
                            </div>
                            <div class="tier bg">
                                <div>
                                    <img class="tier-star" src="../assets/progress-star.svg" alt="">
                                    <img class="tier-star additional-star" src="../assets/progress-star.svg" alt="">
                                    <h3>Desszert Díjas - 150 csillag</h3>
                                </div>
                                <div>
                                    <img class="gift" src="../assets/gift.svg" alt="">
                                    <p>Mostantól 2x annyi csillag</p>
                                </div>
                            </div>
                            <div class="tier bg">
                                <div>
                                    <img class="tier-star to-left" src="../assets/progress-star.svg" alt="">
                                    <img class="tier-star additional-star" src="../assets/progress-star.svg" alt="">
                                    <img class="tier-star additional-star" src="../assets/progress-star.svg" alt="">
                                    <h3>Gasztronómiai Gróf - 200 csillag</h3>
                                </div>
                                <div>
                                    <img class="gift" src="../assets/gift.svg" alt="">
                                    <p>Mostantól 2.5x annyi csillag</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>

            <div class="navbar gradient">
                <a href="shops.html"><img src="../assets/shops.svg" alt=""></a>
                <a href="goods.html"><img src="../assets/goods.svg" alt=""></a>
                <a href="../index.html"><img src="../assets/home.svg" alt=""></a>
                <a href="cart.html"><img src="../assets/cart.svg" alt=""></a>
                <a href="star.html"><img src="../assets/star-s.svg" alt=""></a>
            </div>
        </div>
    </div>
    <img class="absolute semicircle" src="../assets/semicircular.svg" alt="">
    <img class="absolute circle" src="../assets/semicircle.svg" alt="">

    <script src="../app.js"></script>
    <script>
        function getFreeItem(price){
            if(localPoints >= price){
                localPoints -= price;
                localStorage.setItem('points', localPoints);
                payPoints.innerText = localPoints;
                succ.classList.remove('inv');
            } else {
                unsucc.classList.remove('inv');
            }
        }

        var localPoints = localStorage.getItem('points') || 20;
        var allPoints = localStorage.getItem('allpoints') || 20;

        const payPoints = document.querySelector('.pay-points');
        payPoints.innerText = localPoints;

        const allPointsP = document.querySelector('.all-points');
        allPointsP.innerText = allPoints;

        const succ = document.querySelector('.succ');
        const unsucc = document.querySelector('.unsucc');

    </script>
</body>
</html>