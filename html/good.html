<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>SHOPS-ForFood-MVP</title>
    <link rel="stylesheet" href="../styles/style.css">
    <link rel="stylesheet" href="../styles/good.css">
    <link rel="icon" type="image/x-icon" href="../assets/kava-kavezo.png">
</head>
<body>
    <div class="center">
        <div class="content">

            <header class="gradient">
                <div class="progress-holder">
                    <div class="stars">
                        <img src="../assets/progress-star.svg" alt="">
                        <img src="../assets/progress-star.svg" alt="">
                        <img src="../assets/progress-star.svg" alt="">
                        <img src="../assets/progress-star.svg" alt="">
                        <img src="../assets/progress-star.svg" alt="">
                        <img src="../assets/progress-star.svg" alt="">
                    </div>
                    <div class="progress-bar">
                        <div class="progress"></div>
                    </div>
                </div>
                <img class="profile-pic" src="../assets/profile.svg" alt="">
            </header>

            <main>
                <div class="go-back"><img src="../assets/arrow.svg" alt=""></div>
                <div class="popup bg inv">
                    <div class="cover"></div>
                    <div class="front">
                        <p>Sikeresen kosárba helyezve</p>
                        <a href="cart.html">
                            <img class="close" src="../assets/close.svg" alt="">
                        </a>
                    </div>
                </div>
                <div class="product-holder">
                    <div class="product">
                        <img class="product-img" src="" alt="">
                        <div class="product-info">
                    <h2 class="name"></h2>
                        <div class="price">
                            <img class="coin" src="../assets/coin.svg" alt="">
                            <p class="price-tag"></p>
                        </div>
                    </div>
                    </div>
                    <div class="grid">
                        <div class="map">
                            <div>
                                <img src="../assets/map.png" alt="">
                                <p>Megtekintés a térképen</p>
                            </div>
                        </div>
                        <div class="shop">
                            <img class="location-img" src="" alt="">
                            <p class="located-at"></p>
                        </div>
                        <div class="star">
                            <p class="star-points"></p>
                            <img src="../assets/progress-star.svg" alt="">
                        </div>
                        <div class="cart-add gradient-tr">
                            <img class="cart-add-img" src="../assets/cart-add.png" alt="">
                        </div>
                        <!-- <a href="cart.html" class="cart-add gradient-tr">
                            <img class="cart-add-img" src="../assets/cart-add.png" alt="">
                        </a> -->
                    </div>
                </div>
            </main>
            
            <div class="navbar gradient">
                <a href="../index.html"><img src="../assets/shops.svg" alt=""></a>
                <a href="goods.html"><img src="../assets/goods-s.svg" alt=""></a>
                <a href="cart.html"><img src="../assets/cart.svg" alt=""></a>
                <a href="star.html"><img src="../assets/star.svg" alt=""></a>
            </div>
        </div>
    </div>

    <img class="absolute semicircle" src="../assets/semicircular.svg" alt="">
    <img class="absolute circle" src="../assets/semicircle.svg" alt="">

    <script src="../app.js"></script>

    <script>

        const name = document.querySelector('.name');

        //getting the query string from url
        const queryString = window.location.search;
        const params = new URLSearchParams(queryString);
        const g = params.get('g');
        name.innerHTML = g;

        var prices = {
            'cappuccino': 1200,
            'ice-coffee': 1300,
            'biscuit': 400,
            'cake': 1800,
            'pudding': 600,
            'ice-cream': 1400
        };

        var loc = {
            'cappuccino': ['kava-kavezo.png', 'Káva Kávézó', 'kavakavezo.html'],
            'ice-coffee': ['kava-kavezo.png', 'Káva Kávézó', 'kavakavezo.html'],
            'biscuit': ['kava-kavezo.png', 'Káva Kávézó', 'kavakavezo.html'],
            'cake': ['sususutijei.png', 'Süsü Sütijei', 'sususutijei.html'],
            'pudding': ['sususutijei.png', 'Süsü Sütijei', 'sususutijei.html'],
            'ice-cream': ['sususutijei.png', 'Süsü Sütijei', 'sususutijei.html']
        };

        const image = document.querySelector('.product-img');
        image.src = '../assets/' + g + '.png';

        const priceTag = document.querySelector('.price-tag');
        priceTag.innerText = prices[g] + "Ft";

        const locatedAt = document.querySelector('.located-at');
        locatedAt.innerText = 'Elérhető itt: ' + loc[g][1];

        const locationImg = document.querySelector('.location-img');
        locationImg.src = '../assets/' + loc[g][0];

        const starPoints = document.querySelector('.star-points');
        const starPoint = prices[g] / 100;
        starPoints.innerText = starPoint;
        
        const goBack = document.querySelector('.go-back');
        goBack.addEventListener('click', function(){
            window.history.back();
        })

        const popup = document.querySelector('.popup');
        
        const cartAdd = document.querySelector('.cart-add');
        cartAdd.addEventListener('click', function(){
            popup.classList.remove('inv');
            addToCart();
        })
        
    </script>
</body>
</html>